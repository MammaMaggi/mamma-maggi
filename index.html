<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mamma Maggi | Pedidos Online</title>
<link href="https://fonts.googleapis.com/css2?family=Staatliches&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet" />
<style>
:root {--bg: #111; --fg: #fff; --accent: #e63946; --card: #1a1a1a;}
body {margin:0; font-family: 'Montserrat', sans-serif; background: var(--bg); color: var(--fg);}
header {display:flex; align-items:center; justify-content:center; position:relative; padding:1rem;}
header h1 {font-family: 'Staatliches', cursive; font-size: 2rem;}
#loginBtn {position:absolute; left:1rem; background:none; color:var(--fg); cursor:pointer;}
#cartBtn {position:absolute; right:1rem; background:none; color:var(--fg); cursor:pointer;}
section {max-width: 960px; margin:auto; padding:2rem 1rem;}
.menu-category {margin-bottom:2rem;}
.menu-grid {display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;}
.card {background: var(--card); padding:1rem; border-radius:8px; display:flex; flex-direction:column;}
.card button {margin-top:auto; background:var(--accent); color:#fff; border:none; padding:.5rem; border-radius:4px; cursor:pointer;}
.modal {position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); display:none; align-items:center; justify-content:center;}
.modal.active {display:flex;}
.modal .box {background:var(--card); padding:2rem; border-radius:8px; max-width:500px; width:90%;}
.cart-item {display:flex; justify-content:space-between; margin-bottom:.5rem;}
textarea {width:100%; padding:.5rem; border-radius:4px; border:1px solid #333; background:#222; color:#fff;}
</style>
</head>
<body>
<header>
  <button id="loginBtn">ðŸ‘¤ Ingresar</button>
  <h1>MAMMA MAGGI</h1>
  <button id="cartBtn">ðŸ›’ (<span id="cartCount">0</span>)</button>
</header>
<section>
  <h2>Nuestro MenÃº</h2>

  <div class="menu-category">
    <h3>Pizzas</h3>
    <div class="menu-grid" id="pizzas"></div>
  </div>

  <div class="menu-category">
    <h3>AcompaÃ±amientos</h3>
    <div class="menu-grid" id="acomp"></div>
  </div>
</section>

<div class="modal" id="cartModal">
  <div class="box">
    <h2>Tu Pedido</h2>
    <div id="cartItems"></div>
    <textarea id="orderComment" placeholder="Comentarios adicionales..."></textarea>
    <p>Total: $<span id="cartTotal">0</span></p>
    <button id="checkoutBtn">Finalizar Pedido</button>
    <button onclick="toggleModal('cartModal')">Cerrar</button>
  </div>
</div>

<script>
const PIZZAS = [
  {id:1,name:'Margarita',price:9990},
  {id:2,name:'Pepperoni',price:10500},
  {id:3,name:'Napolitana',price:11500},
];
const ACOMP = [
  {id:101,name:'TiramisÃº',price:4990},
  {id:102,name:'Palitos de ajo',price:4500},
  {id:103,name:'Palitos de queso',price:4990},
];
const cart = {};
function renderMenu(){
  const pZone = document.getElementById('pizzas');
  const aZone = document.getElementById('acomp');

  PIZZAS.forEach(p => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<h4>${p.name}</h4><p>$${p.price.toLocaleString()}</p>
      <button onclick="addToCart(${p.id}, '${p.name}', ${p.price}, true)">Agregar</button>`;
    pZone.appendChild(card);
  });

  ACOMP.forEach(a => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<h4>${a.name}</h4><p>$${a.price.toLocaleString()}</p>
      <button onclick="addToCart(${a.id}, '${a.name}', ${a.price}, false)">Agregar</button>`;
    aZone.appendChild(card);
  });
}
function addToCart(id, name, price, isPizza){
  const key = isPizza && document.getElementById(`cheese-${id}`)?.checked ? `${id}-vegan` : id;
  const itemName = isPizza && document.getElementById(`cheese-${id}`)?.checked ? `${name} (Queso vegano)` : name;
  const itemPrice = isPizza && document.getElementById(`cheese-${id}`)?.checked ? price + 1500 : price;

  if(!cart[key]) cart[key] = {name:itemName, qty:0, price:itemPrice};
  cart[key].qty++;
  updateCart();
}
function updateCart(){
  const cZone = document.getElementById('cartItems');
  cZone.innerHTML = '';
  let total = 0;
  Object.values(cart).forEach(item => {
    const line = document.createElement('div');
    line.className = 'cart-item';
    line.innerHTML = `<span>${item.qty}x ${item.name}</span><span>$${(item.qty * item.price).toLocaleString()}</span>`;
    cZone.appendChild(line);
    total += item.qty * item.price;
  });
  document.getElementById('cartTotal').textContent = total.toLocaleString();
  document.getElementById('cartCount').textContent = Object.values(cart).reduce((a,b)=>a+b.qty,0);
}
function toggleModal(id){
  document.getElementById(id).classList.toggle('active');
}
document.getElementById('cartBtn').onclick = () => toggleModal('cartModal');
document.getElementById('checkoutBtn').onclick = () => {
  const msg = Object.values(cart).map(i => `${i.qty}x ${i.name}`).join('%0A');
  const comment = document.getElementById('orderComment').value;
  const total = document.getElementById('cartTotal').textContent;
  window.open(`https://wa.me/56949486579?text=Pedido:%0A${msg}%0AComentarios:%0A${comment}%0ATotal: $${total}`);
};
renderMenu();
</script>
</body>
</html>


